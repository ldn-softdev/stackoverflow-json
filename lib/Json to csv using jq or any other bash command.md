### Query: [Json to csv using jq or any other bash command](https://stackoverflow.com/questions/59806699/json-to-csv-using-jq-or-any-other-bash-command)
([jump to the answer](https://github.com/ldn-softdev/stackoverflow-json/blob/master/lib/Json%20to%20csv%20using%20jq%20or%20any%20other%20bash%20command.md#a))

I have to parse a big json file to csv in as little a time as possible. I have the following sample json file: 

    {
        "status": "success",
        "data": {
            "candles": [
                ["2015-12-28T09:15:00+0530", 1386.4, 1388, 1381.05, 1385.1, 788],
                ["2015-12-28T09:16:00+0530", 1385.1, 1389.1, 1383.85, 1385.5, 609],
                ["2015-12-28T09:17:00+0530", 1385.5, 1387, 1385.5, 1385.7, 212],
                ["2015-12-28T09:18:00+0530", 1387, 1387.95, 1385.3, 1387.95, 1208],
                ["2015-12-28T09:19:00+0530", 1387, 1387.55, 1385.6, 1386.25, 716],
                ["2015-12-28T09:20:00+0530", 1386.95, 1389.95, 1386.95, 1389, 727],
                ["2015-12-28T09:21:00+0530", 1389, 1392.95, 1389, 1392.95, 291],
                ["2015-12-28T09:22:00+0530", 1392.95, 1393, 1392, 1392.95, 180],
                ["2015-12-28T09:23:00+0530", 1392.95, 1393, 1392, 1392.15, 1869],
                ["2016-01-01T13:22:00+0530", 1386.4, 1388, 1381.05, 1385.1, 788],
                ["2016-01-01T13:23:00+0530", 1385.1, 1389.1, 1383.85, 1385.5, 613],
                ["2016-01-01T13:24:00+0530", 1385.5, 1387, 1385.5, 1385.7, 212],
                ["2016-01-01T13:25:00+0530", 1387, 1387.95, 1385.3, 1387.95, 1208],
                ["2016-01-01T13:26:00+0530", 1387, 1387.55, 1385.6, 1386.25, 716],
                ["2016-01-01T13:27:00+0530", 1386.95, 1389.95, 1386.95, 1389, 727],
                ["2016-01-01T13:28:00+0530", 1389, 1392.95, 1389, 1392.95, 291],
                ["2016-01-01T13:29:00+0530", 1392.95, 1393, 1392, 1392.95, 180],
                ["2016-01-01T13:30:00+0530", 1392.95, 1393, 1392, 1392.15, 1869]
            ]
        }
    }

The data in the above file (say data.json) has to filtered and the candles data has to be saved in csv file (say output.csv). I am unable to get .data.candles data in a csv file. Output expected is:
    
    2015-12-28T09:15:00+0530,1386.4,1388.0,1381.05,1385.1,788
    2015-12-28T09:16:00+0530,1385.1,1389.1,1383.85,1385.5,609
    2015-12-28T09:17:00+0530,1385.5,1387.0,1385.5,1385.7,212
    2015-12-28T09:18:00+0530,1387.0,1387.95,1385.3,1387.95,1208
    2015-12-28T09:19:00+0530,1387.0,1387.55,1385.6,1386.25,716
    2015-12-28T09:20:00+0530,1386.95,1389.95,1386.95,1389.0,727
    2015-12-28T09:21:00+0530,1389.0,1392.95,1389.0,1392.95,291
    2015-12-28T09:22:00+0530,1392.95,1393.0,1392.0,1392.95,180
    2015-12-28T09:23:00+0530,1392.95,1393.0,1392.0,1392.15,1869
    2016-01-01T13:22:00+0530,1386.4,1388.0,1381.05,1385.1,788
    2016-01-01T13:23:00+0530,1385.1,1389.1,1383.85,1385.5,613
    2016-01-01T13:24:00+0530,1385.5,1387.0,1385.5,1385.7,212
    2016-01-01T13:25:00+0530,1387.0,1387.95,1385.3,1387.95,1208
    2016-01-01T13:26:00+0530,1387.0,1387.55,1385.6,1386.25,716
    2016-01-01T13:27:00+0530,1386.95,1389.95,1386.95,1389.0,727
    2016-01-01T13:28:00+0530,1389.0,1392.95,1389.0,1392.95,291
    2016-01-01T13:29:00+0530,1392.95,1393.0,1392.0,1392.95,180
    2016-01-01T13:30:00+0530,1392.95,1393.0,1392.0,1392.15,1869

I can do it in python, but owing to speed, I have to do it via jq.

A little help here would be much appreciated. 


### A:
Given the data are already in JSON arrays and does not require re-ordering, then dumping it into CSV format with
[`jtc`](https://github.com/ldn-softdev/jtc) is trivial:
```bash
bash $ <sample.json jtc -w'<candles>l[:]' -qqT'"{}"'
2015-12-28T09:15:00+0530, 1386.4, 1388, 1381.05, 1385.1, 788
2015-12-28T09:16:00+0530, 1385.1, 1389.1, 1383.85, 1385.5, 609
2015-12-28T09:17:00+0530, 1385.5, 1387, 1385.5, 1385.7, 212
2015-12-28T09:18:00+0530, 1387, 1387.95, 1385.3, 1387.95, 1208
2015-12-28T09:19:00+0530, 1387, 1387.55, 1385.6, 1386.25, 716
2015-12-28T09:20:00+0530, 1386.95, 1389.95, 1386.95, 1389, 727
2015-12-28T09:21:00+0530, 1389, 1392.95, 1389, 1392.95, 291
2015-12-28T09:22:00+0530, 1392.95, 1393, 1392, 1392.95, 180
2015-12-28T09:23:00+0530, 1392.95, 1393, 1392, 1392.15, 1869
2016-01-01T13:22:00+0530, 1386.4, 1388, 1381.05, 1385.1, 788
2016-01-01T13:23:00+0530, 1385.1, 1389.1, 1383.85, 1385.5, 613
2016-01-01T13:24:00+0530, 1385.5, 1387, 1385.5, 1385.7, 212
2016-01-01T13:25:00+0530, 1387, 1387.95, 1385.3, 1387.95, 1208
2016-01-01T13:26:00+0530, 1387, 1387.55, 1385.6, 1386.25, 716
2016-01-01T13:27:00+0530, 1386.95, 1389.95, 1386.95, 1389, 727
2016-01-01T13:28:00+0530, 1389, 1392.95, 1389, 1392.95, 291
2016-01-01T13:29:00+0530, 1392.95, 1393, 1392, 1392.95, 180
2016-01-01T13:30:00+0530, 1392.95, 1393, 1392, 1392.15, 1869
bash $ 
```

- `-w'<candles>l[:]'`: _walks_ every array in `"candles"`
- `-T'"{}"'`: will interpolate the array into a _string_
- `-qq`: drops the outer quotation marks of the result
